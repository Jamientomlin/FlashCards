{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/User/Thinkful/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/User/Thinkful/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/User/Thinkful/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{listDecks,deleteDeck}from\"../../utils/api/index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ListDecks(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),decks=_useState2[0],setDecks=_useState2[1];useEffect(function(){function loadData(){return _loadData.apply(this,arguments);}function _loadData(){_loadData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var output;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return listDecks();case 3:output=_context.sent;setDecks(output);_context.next=14;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);if(!(_context.t0.name===\"AbortError\")){_context.next=13;break;}// Ignore `AbortError`\nconsole.log(\"Aborted\");_context.next=14;break;case 13:throw _context.t0;case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _loadData.apply(this,arguments);}loadData();},[]);var handleDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(_ref){var target,value,result,deleteData;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:target=_ref.target;value=target.value;result=window.confirm(\"Delete deck ID \".concat(value,\"? You will not be able to recover it.\"));if(result){deleteData=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var output;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return deleteDeck(value);case 3:_context2.next=5;return listDecks();case 5:output=_context2.sent;setDecks(output);_context2.next=16;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);if(!(_context2.t0.name===\"AbortError\")){_context2.next=15;break;}// Ignore `AbortError`\nconsole.log(\"Aborted\");_context2.next=16;break;case 15:throw _context2.t0;case 16:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}));return function deleteData(){return _ref3.apply(this,arguments);};}();deleteData();}case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function handleDelete(_x){return _ref2.apply(this,arguments);};}();//console.log(\"deck\", deck);\nif(decks.length>0){return/*#__PURE__*/_jsx(\"div\",{children:decks.map(function(deck){return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row card-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-10\",children:/*#__PURE__*/_jsx(\"h4\",{children:deck.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\" \",deck.cards.length,\" cards\"]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:deck.description}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-4\",children:[/*#__PURE__*/_jsx(Link,{to:\"decks/\".concat(deck.id),className:\"btn btn-secondary\",children:\"View\"}),\" \\xA0\",/*#__PURE__*/_jsx(Link,{to:\"decks/\".concat(deck.id,\"/study\"),className:\"btn btn-primary\",children:\"Study\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",value:deck.id,onClick:handleDelete,children:\"Delete\"})})]})})]})]});})});}return\"Please add a deck.\";}export default ListDecks;","map":{"version":3,"sources":["C:/Users/User/Thinkful/Project_Flashcards_Qualified_1/src/Layout/Deck/ListDecks.js"],"names":["React","useState","useEffect","Link","listDecks","deleteDeck","ListDecks","decks","setDecks","loadData","output","name","console","log","handleDelete","target","value","result","window","confirm","deleteData","length","map","deck","cards","description","id"],"mappings":"igBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAAQC,SAAR,CAAmBC,UAAnB,KAAoC,uBAApC,C,wFAEA,QAASC,CAAAA,SAAT,EAAoB,eACUL,QAAQ,CAAC,EAAD,CADlB,wCACTM,KADS,eACFC,QADE,eAEhBN,SAAS,CAAC,UAAM,SACGO,CAAAA,QADH,kIACZ,oLAEyBL,CAAAA,SAAS,EAFlC,QAEUM,MAFV,eAGIF,QAAQ,CAACE,MAAD,CAAR,CAHJ,oFAMQ,YAAMC,IAAN,GAAe,YANvB,2BAOM;AACAC,OAAO,CAACC,GAAR,CAAY,SAAZ,EARN,qHADY,2CAedJ,QAAQ,GACT,CAhBQ,CAgBN,EAhBM,CAAT,CAmBA,GAAMK,CAAAA,YAAY,2FAAG,+KAASC,MAAT,MAASA,MAAT,CACbC,KADa,CACPD,MAAM,CAACC,KADA,CAGbC,MAHa,CAGJC,MAAM,CAACC,OAAP,0BAAiCH,KAAjC,0CAHI,CAInB,GAAIC,MAAJ,CAAY,CACKG,UADL,2FACV,2LAEUf,CAAAA,UAAU,CAACW,KAAD,CAFpB,+BAGyBZ,CAAAA,SAAS,EAHlC,QAGUM,MAHV,gBAIIF,QAAQ,CAACE,MAAD,CAAR,CAJJ,wFAOQ,aAAMC,IAAN,GAAe,YAPvB,4BAQM;AACAC,OAAO,CAACC,GAAR,CAAY,SAAZ,EATN,yHADU,kBACKO,CAAAA,UADL,4CAgBZA,UAAU,GACT,CArBkB,wDAAH,kBAAZN,CAAAA,YAAY,6CAAlB,CAwBA;AACA,GAAIP,KAAK,CAACc,MAAN,CAAe,CAAnB,CAAqB,CAEjB,mBACE,qBACGd,KAAK,CAACe,GAAN,CAAU,SAACC,IAAD,qBACT,aAAK,SAAS,CAAC,MAAf,wBACA,YAAK,SAAS,CAAC,WAAf,uBACE,aAAK,SAAS,CAAC,iBAAf,wBACE,YAAK,SAAS,CAAC,QAAf,uBACA,oBAAKA,IAAI,CAACZ,IAAV,EADA,EADF,cAIE,YAAK,SAAS,CAAC,OAAf,uBACE,yBAAKY,IAAI,CAACC,KAAL,CAAWH,MAAhB,YADF,EAJF,GADF,EADA,cAYF,aAAK,SAAS,CAAC,WAAf,wBACE,UAAG,SAAS,CAAC,WAAb,UAA0BE,IAAI,CAACE,WAA/B,EADF,cAEE,YAAK,SAAS,CAAC,WAAf,uBACE,aAAK,SAAS,CAAC,6BAAf,wBACE,aAAK,SAAS,CAAC,OAAf,wBACE,KAAC,IAAD,EAAM,EAAE,iBAAWF,IAAI,CAACG,EAAhB,CAAR,CAA8B,SAAS,CAAC,mBAAxC,kBADF,sBAEE,KAAC,IAAD,EAAM,EAAE,iBAAWH,IAAI,CAACG,EAAhB,UAAR,CAAoC,SAAS,CAAC,iBAA9C,mBAFF,GADF,cAKE,YAAK,SAAS,CAAC,OAAf,uBACE,eAAQ,SAAS,CAAC,gBAAlB,CAAmC,KAAK,CAAEH,IAAI,CAACG,EAA/C,CAAmD,OAAO,CAAEZ,YAA5D,oBADF,EALF,GADF,EAFF,GAZE,GADS,EAAV,CADH,EADF,CAkCH,CACD,MACI,oBADJ,CAGH,CACD,cAAeR,CAAAA,SAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {listDecks, deleteDeck} from \"../../utils/api/index\"\r\n\r\nfunction ListDecks(){\r\n    const [decks, setDecks] = useState([]);\r\n    useEffect(() => {\r\n        async function loadData() {\r\n           try {\r\n            const output = await listDecks();\r\n            setDecks(output);\r\n           \r\n          } catch (error) {\r\n            if (error.name === \"AbortError\") {\r\n              // Ignore `AbortError`\r\n              console.log(\"Aborted\");\r\n          } else {\r\n              throw error;\r\n          }\r\n        }\r\n      }\r\n      loadData();\r\n    }, []);\r\n\r\n    \r\n    const handleDelete = async ({ target }) => {\r\n      const value=target.value;\r\n\r\n      const result = window.confirm(`Delete deck ID ${value}? You will not be able to recover it.`);\r\n      if (result) {\r\n        async function deleteData() {\r\n           try {\r\n            await deleteDeck(value);\r\n            const output = await listDecks();\r\n            setDecks(output);\r\n           \r\n          } catch (error) {\r\n            if (error.name === \"AbortError\") {\r\n              // Ignore `AbortError`\r\n              console.log(\"Aborted\");\r\n          } else {\r\n              throw error;\r\n          }\r\n        }\r\n      }\r\n      deleteData();\r\n      }\r\n    };\r\n\r\n    //console.log(\"deck\", deck);\r\n    if (decks.length > 0){\r\n      \r\n        return (\r\n          <div>\r\n            {decks.map((deck) =>(\r\n              <div className=\"card\">\r\n              <div className=\"container\">\r\n                <div className=\"row card-header\">\r\n                  <div className=\"col-10\">\r\n                  <h4>{deck.name}</h4>\r\n                  </div>\r\n                  <div className=\"col-2\">\r\n                    <p> {deck.cards.length} cards</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            \r\n            <div className=\"card-body\">\r\n              <p className=\"card-text\">{deck.description}</p>\r\n              <div className=\"container\">\r\n                <div className=\"row justify-content-between\">\r\n                  <div className=\"col-4\">\r\n                    <Link to={`decks/${deck.id}`} className=\"btn btn-secondary\">View</Link> &nbsp;\r\n                    <Link to={`decks/${deck.id}/study`} className=\"btn btn-primary\">Study</Link>\r\n                  </div>\r\n                  <div className=\"col-1\">\r\n                    <button className=\"btn btn-danger\" value={deck.id} onClick={handleDelete}>Delete</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n            ))}\r\n            \r\n        </div>\r\n        );\r\n    }\r\n    return (\r\n        \"Please add a deck.\"\r\n    );\r\n}\r\nexport default ListDecks;"]},"metadata":{},"sourceType":"module"}