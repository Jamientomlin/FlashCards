{"ast":null,"code":"import _defineProperty from\"C:/Users/User/Thinkful/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/User/Thinkful/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:/Users/User/Thinkful/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/User/Thinkful/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/User/Thinkful/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Link,useParams,useHistory}from\"react-router-dom\";import CardForm from\"./CardForm\";import{readDeck,readCard,updateCard}from\"../../utils/api/index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CardEdit(){var params=useParams();var deckId=params.deckId;var cardId=params.cardId;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),deck=_useState2[0],setDeck=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),card=_useState4[0],setCard=_useState4[1];useEffect(function(){setDeck({});function loadData(){return _loadData.apply(this,arguments);}function _loadData(){_loadData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var dataFromAPI,datafromApie2;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return readDeck(deckId);case 3:dataFromAPI=_context.sent;setDeck(dataFromAPI);_context.next=7;return readCard(cardId);case 7:datafromApie2=_context.sent;setCard(datafromApie2);_context.next=18;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);if(!(_context.t0.name===\"AbortError\")){_context.next=17;break;}// Ignore `AbortError`\nconsole.log(\"Aborted\");_context.next=18;break;case 17:throw _context.t0;case 18:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return _loadData.apply(this,arguments);}loadData();},[deckId,cardId]);var handleChange=function handleChange(_ref){var target=_ref.target;var value=target.value;setCard(_objectSpread(_objectSpread({},card),{},_defineProperty({},target.name,value)));};var history=useHistory();var handleSubmit=function handleSubmit(event){event.preventDefault();console.log(\"Submitted:\",card);function updateData(){return _updateData.apply(this,arguments);}function _updateData(){_updateData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var dataFromAPI;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return updateCard(card);case 3:dataFromAPI=_context2.sent;history.push(\"/decks/\".concat(deckId));_context2.next=14;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);if(!(_context2.t0.name===\"AbortError\")){_context2.next=13;break;}// Ignore `AbortError`\nconsole.log(\"Aborted\");_context2.next=14;break;case 13:throw _context2.t0;case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return _updateData.apply(this,arguments);}updateData();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})},\"0\"),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/decks/\".concat(deckId),children:deck.name})},\"1\"),/*#__PURE__*/_jsxs(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\",children:[\"Edit Card \",cardId]},\"2\")]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h2\",{children:\"Edit Card\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(CardForm,{formData:card,handleChange:handleChange}),/*#__PURE__*/_jsx(Link,{to:\"/decks/\".concat(deckId),className:\"btn btn-secondary\",children:\"Cancel\"}),\" \\xA0\",/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Save\"})]})]});}export default CardEdit;","map":{"version":3,"sources":["C:/Users/User/Thinkful/Project_Flashcards_Qualified_1/src/Layout/CardFiles/CardEdit.js"],"names":["React","useState","useEffect","Link","useParams","useHistory","CardForm","readDeck","readCard","updateCard","CardEdit","params","deckId","cardId","deck","setDeck","card","setCard","loadData","dataFromAPI","datafromApie2","name","console","log","handleChange","target","value","history","handleSubmit","event","preventDefault","updateData","push"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport { Link, useParams, useHistory } from \"react-router-dom\";\r\nimport CardForm from \"./CardForm\"\r\nimport {readDeck, readCard, updateCard} from \"../../utils/api/index\"\r\n\r\nfunction CardEdit(){\r\n    const params = useParams();\r\n    const deckId = params.deckId;\r\n    const cardId = params.cardId;\r\n    const [deck, setDeck] = useState({});\r\n    const [card, setCard] = useState({});\r\n    useEffect(() => {\r\n        setDeck( {} );\r\n        async function loadData() {\r\n           try {\r\n           const dataFromAPI = await readDeck(deckId);\r\n           setDeck(dataFromAPI);\r\n           const datafromApie2 = await readCard(cardId);\r\n           setCard(datafromApie2);              \r\n          } catch (error) {\r\n            if (error.name === \"AbortError\") {\r\n              // Ignore `AbortError`\r\n              console.log(\"Aborted\");\r\n          } else {\r\n              throw error;\r\n          }\r\n        }\r\n      }\r\n      loadData();\r\n    }, [deckId, cardId]);\r\n\r\n\r\n    const handleChange = ({ target }) => {\r\n        const value = target.value;\r\n       setCard({\r\n       ...card,\r\n       [target.name]: value,\r\n     });\r\n    };\r\n    const history = useHistory();\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        console.log(\"Submitted:\", card);\r\n        async function updateData() {\r\n           try {\r\n               // eslint-disable-next-line \r\n           const dataFromAPI = await updateCard(card);\r\n\r\n           history.push(`/decks/${deckId}`);\r\n          } catch (error) {\r\n            if (error.name === \"AbortError\") {\r\n              // Ignore `AbortError`\r\n              console.log(\"Aborted\");\r\n          } else {\r\n              throw error;\r\n          }\r\n        }\r\n      }\r\n      updateData(); \r\n      };\r\n    return (\r\n        <div>\r\n            <nav aria-label=\"breadcrumb\">\r\n                <ol className=\"breadcrumb\">\r\n                    <li className=\"breadcrumb-item\" key=\"0\"><Link to=\"/\">Home</Link></li>\r\n                    <li className=\"breadcrumb-item\" key=\"1\"><Link to={`/decks/${deckId}`}>{deck.name}</Link></li>\r\n                    <li className=\"breadcrumb-item active\" aria-current=\"page\" key=\"2\">Edit Card {cardId}</li>\r\n                </ol>\r\n            </nav>\r\n            <br />\r\n            \r\n            <h2>Edit Card</h2>\r\n            \r\n            <form onSubmit={handleSubmit}>\r\n                <CardForm formData={card} handleChange={handleChange} />\r\n                <Link to={`/decks/${deckId}`} className=\"btn btn-secondary\">Cancel</Link> &nbsp;\r\n                <button type=\"submit\" className=\"btn btn-primary\">Save</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\nexport default CardEdit;"]},"metadata":{},"sourceType":"module"}