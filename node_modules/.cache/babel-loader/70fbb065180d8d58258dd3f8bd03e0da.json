{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/User/Thinkful/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/User/Thinkful/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/Users/User/Thinkful/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/User/Thinkful/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/User/Thinkful/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Link,useHistory}from\"react-router-dom\";import DeckForm from\"./DeckForm\";import{createDeck}from\"../../utils/api/index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CreateDeck(){var initialFormState={name:\"\",description:\"\"};var _useState=useState(_objectSpread({},initialFormState)),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var handleChange=function handleChange(_ref){var target=_ref.target;var value=target.value;setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},target.name,value)));};var history=useHistory();var handleSubmit=function handleSubmit(event){event.preventDefault();//console.log(\"Submitted:\", formData);\nfunction updateData(){return _updateData.apply(this,arguments);}function _updateData(){_updateData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var output;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return createDeck(formData);case 3:output=_context.sent;history.push(\"/decks/\".concat(output.id));_context.next=14;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);if(!(_context.t0.name===\"AbortError\")){_context.next=13;break;}// Ignore `AbortError`\nconsole.log(\"Aborted\");_context.next=14;break;case 13:throw _context.t0;case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _updateData.apply(this,arguments);}updateData();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})},\"0\"),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\",children:\"Create Deck\"},\"1\")]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h2\",{children:\"Create Deck\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(DeckForm,{formData:formData,handleChange:handleChange}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn btn-secondary\",children:\"Cancel\"}),\" \\xA0\",/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Save\"})]})]});}export default CreateDeck;","map":{"version":3,"sources":["C:/Users/User/Thinkful/Project_Flashcards_Qualified_1/src/Layout/Deck/CreateDeck.js"],"names":["React","useState","Link","useHistory","DeckForm","createDeck","CreateDeck","initialFormState","name","description","formData","setFormData","handleChange","target","value","history","handleSubmit","event","preventDefault","updateData","output","push","id","console","log"],"mappings":"01BAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,OAAQC,UAAR,KAAyB,uBAAzB,C,wFAGA,QAASC,CAAAA,UAAT,EAAqB,CACjB,GAAMC,CAAAA,gBAAgB,CAAG,CACrBC,IAAI,CAAE,EADe,CAErBC,WAAW,CAAE,EAFQ,CAAzB,CADiB,cAKiBR,QAAQ,kBAAMM,gBAAN,EALzB,wCAKRG,QALQ,eAKEC,WALF,eAMf,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAgB,IAAbC,CAAAA,MAAa,MAAbA,MAAa,CACnC,GAAMC,CAAAA,KAAK,CAAGD,MAAM,CAACC,KAArB,CACDH,WAAW,gCACRD,QADQ,wBAEVG,MAAM,CAACL,IAFG,CAEIM,KAFJ,GAAX,CAIF,CANC,CAOF,GAAMC,CAAAA,OAAO,CAAGZ,UAAU,EAA1B,CACA,GAAMa,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC5BA,KAAK,CAACC,cAAN,GACA;AAF4B,QAGbC,CAAAA,UAHa,wIAG5B,oLAEyBd,CAAAA,UAAU,CAACK,QAAD,CAFnC,QAEUU,MAFV,eAGIL,OAAO,CAACM,IAAR,kBAAuBD,MAAM,CAACE,EAA9B,GAHJ,oFAKQ,YAAMd,IAAN,GAAe,YALvB,2BAMM;AACAe,OAAO,CAACC,GAAR,CAAY,SAAZ,EAPN,qHAH4B,6CAgB9BL,UAAU,GACT,CAjBH,CAkBA,mBACI,oCACI,YAAK,aAAW,YAAhB,uBACI,YAAI,SAAS,CAAC,YAAd,wBACI,WAAI,SAAS,CAAC,iBAAd,uBAAwC,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,kBAAxC,EAAoC,GAApC,CADJ,cAEI,WAAI,SAAS,CAAC,wBAAd,CAAuC,eAAa,MAApD,yBAA+D,GAA/D,CAFJ,GADJ,EADJ,cAOI,aAPJ,cAQI,mCARJ,cASI,cAAM,QAAQ,CAAEH,YAAhB,wBACI,KAAC,QAAD,EAAU,QAAQ,CAAEN,QAApB,CAA8B,YAAY,CAAEE,YAA5C,EADJ,cAEI,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,SAAS,CAAC,mBAAvB,oBAFJ,sBAGI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,kBAHJ,GATJ,GADJ,CAiBH,CACD,cAAeN,CAAAA,UAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport DeckForm from \"./DeckForm\"\r\nimport {createDeck} from \"../../utils/api/index\"\r\n\r\n\r\nfunction CreateDeck(){\r\n    const initialFormState = {\r\n        name: \"\",\r\n        description: \"\",\r\n      };\r\n      const [formData, setFormData] = useState({ ...initialFormState });\r\n      const handleChange = ({ target }) => {\r\n        const value = target.value;\r\n       setFormData({\r\n       ...formData,\r\n       [target.name]: value,\r\n     });\r\n    };\r\n    const history = useHistory();\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        //console.log(\"Submitted:\", formData);\r\n        async function updateData() {\r\n           try {\r\n            const output = await createDeck(formData)\r\n            history.push(`/decks/${output.id}`);\r\n          } catch (error) {\r\n            if (error.name === \"AbortError\") {\r\n              // Ignore `AbortError`\r\n              console.log(\"Aborted\");\r\n          } else {\r\n              throw error;\r\n          }\r\n        }\r\n      }\r\n      updateData();   \r\n      };\r\n    return (\r\n        <div>\r\n            <nav aria-label=\"breadcrumb\">\r\n                <ol className=\"breadcrumb\">\r\n                    <li className=\"breadcrumb-item\" key=\"0\"><Link to=\"/\">Home</Link></li>\r\n                    <li className=\"breadcrumb-item active\" aria-current=\"page\" key=\"1\">Create Deck</li>\r\n                </ol>\r\n            </nav>\r\n            <br />\r\n            <h2>Create Deck</h2>\r\n            <form onSubmit={handleSubmit}>\r\n                <DeckForm formData={formData} handleChange={handleChange} />\r\n                <Link to=\"/\" className=\"btn btn-secondary\">Cancel</Link> &nbsp;\r\n                <button type=\"submit\" className=\"btn btn-primary\">Save</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\nexport default CreateDeck;"]},"metadata":{},"sourceType":"module"}