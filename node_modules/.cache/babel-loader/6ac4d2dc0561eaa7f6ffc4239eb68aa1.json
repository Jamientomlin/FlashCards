{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/User/Thinkful/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/User/Thinkful/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/Users/User/Thinkful/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/User/Thinkful/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/User/Thinkful/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Link,useParams}from\"react-router-dom\";import CardForm from\"./CardForm\";import{readDeck,createCard}from\"../../utils/api/index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CardCreate(){var params=useParams();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),deck=_useState2[0],setDeck=_useState2[1];var deckId=params.deckId;var initialFormState={front:\"\",back:\"\",deckId:deckId};var _useState3=useState(_objectSpread({},initialFormState)),_useState4=_slicedToArray(_useState3,2),formData=_useState4[0],setFormData=_useState4[1];var handleChange=function handleChange(_ref){var target=_ref.target;var value=target.value;setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},target.name,value)));};useEffect(function(){function loadData(){return _loadData.apply(this,arguments);}function _loadData(){_loadData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var dataFromAPI;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return readDeck(deckId);case 3:dataFromAPI=_context.sent;setDeck(dataFromAPI);_context.next=14;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);if(!(_context.t0.name===\"AbortError\")){_context.next=13;break;}// Ignore `AbortError`\nconsole.log(\"Aborted\");_context.next=14;break;case 13:throw _context.t0;case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _loadData.apply(this,arguments);}loadData();},[deckId]);var handleSubmit=function handleSubmit(event){event.preventDefault();console.log(\"Submitted:\",formData);function updateData(){return _updateData.apply(this,arguments);}function _updateData(){_updateData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return createCard(deckId,formData);case 3:setFormData(initialFormState);_context2.next=13;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);if(!(_context2.t0.name===\"AbortError\")){_context2.next=12;break;}// Ignore `AbortError`\nconsole.log(\"Aborted\");_context2.next=13;break;case 12:throw _context2.t0;case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,6]]);}));return _updateData.apply(this,arguments);}updateData();};if(deck){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})},\"0\"),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/decks/\".concat(deckId),children:deck.name})},\"1\"),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\",children:\"Add Card\"},\"2\")]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"h2\",{children:[deck.name,\": Add Card\"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(CardForm,{formData:formData,handleChange:handleChange}),/*#__PURE__*/_jsx(Link,{to:\"/decks/\".concat(deckId),className:\"btn btn-secondary\",children:\"Done\"}),\" \\xA0\",/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Save\"})]})]});}else{return\"Loading...\";}}export default CardCreate;","map":{"version":3,"sources":["C:/Users/User/Thinkful/Project_Flashcards_Qualified_1/src/Layout/CardFiles/CardCreate.js"],"names":["React","useState","useEffect","Link","useParams","CardForm","readDeck","createCard","CardCreate","params","deck","setDeck","deckId","initialFormState","front","back","formData","setFormData","handleChange","target","value","name","loadData","dataFromAPI","console","log","handleSubmit","event","preventDefault","updateData"],"mappings":"01BAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,CAAeC,SAAf,KAAgC,kBAAhC,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,OAAQC,QAAR,CAAkBC,UAAlB,KAAmC,uBAAnC,C,wFAIA,QAASC,CAAAA,UAAT,EAAqB,CACjB,GAAMC,CAAAA,MAAM,CAAGL,SAAS,EAAxB,CADiB,cAEOH,QAAQ,CAAC,EAAD,CAFf,wCAEVS,IAFU,eAEJC,OAFI,eAGjB,GAAMC,CAAAA,MAAM,CAAGH,MAAM,CAACG,MAAtB,CACA,GAAMC,CAAAA,gBAAgB,CAAG,CACrBC,KAAK,CAAE,EADc,CAErBC,IAAI,CAAE,EAFe,CAGrBH,MAAM,CAANA,MAHqB,CAAzB,CAJiB,eASiBX,QAAQ,kBAAMY,gBAAN,EATzB,yCASRG,QATQ,eASEC,WATF,eAUf,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAgB,IAAbC,CAAAA,MAAa,MAAbA,MAAa,CACnC,GAAMC,CAAAA,KAAK,CAAGD,MAAM,CAACC,KAArB,CACDH,WAAW,gCACRD,QADQ,wBAEVG,MAAM,CAACE,IAFG,CAEID,KAFJ,GAAX,CAIF,CANC,CAOFlB,SAAS,CAAC,UAAM,SACGoB,CAAAA,QADH,kIACZ,yLAEgChB,CAAAA,QAAQ,CAACM,MAAD,CAFxC,QAEYW,WAFZ,eAGMZ,OAAO,CAACY,WAAD,CAAP,CAHN,oFAKQ,YAAMF,IAAN,GAAe,YALvB,2BAMM;AACAG,OAAO,CAACC,GAAR,CAAY,SAAZ,EAPN,qHADY,2CAcdH,QAAQ,GACT,CAfQ,CAeN,CAACV,MAAD,CAfM,CAAT,CAgBA,GAAMc,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC5BA,KAAK,CAACC,cAAN,GACAJ,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BT,QAA1B,EAF4B,QAGba,CAAAA,UAHa,wIAG5B,gLAEUtB,CAAAA,UAAU,CAACK,MAAD,CAASI,QAAT,CAFpB,QAGIC,WAAW,CAACJ,gBAAD,CAAX,CAHJ,wFAKQ,aAAMQ,IAAN,GAAe,YALvB,4BAMM;AACAG,OAAO,CAACC,GAAR,CAAY,SAAZ,EAPN,yHAH4B,6CAgB9BI,UAAU,GACT,CAjBH,CAmBE,GAAGnB,IAAH,CAAQ,CACN,mBACI,oCACI,YAAK,aAAW,YAAhB,uBACI,YAAI,SAAS,CAAC,YAAd,wBACI,WAAI,SAAS,CAAC,iBAAd,uBAAwC,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,kBAAxC,EAAoC,GAApC,CADJ,cAEI,WAAI,SAAS,CAAC,iBAAd,uBAAwC,KAAC,IAAD,EAAM,EAAE,kBAAYE,MAAZ,CAAR,UAA+BF,IAAI,CAACW,IAApC,EAAxC,EAAoC,GAApC,CAFJ,cAGI,WAAI,SAAS,CAAC,wBAAd,CAAuC,eAAa,MAApD,sBAA+D,GAA/D,CAHJ,GADJ,EADJ,cAQI,aARJ,cASI,sBAAKX,IAAI,CAACW,IAAV,gBATJ,cAUI,cAAM,QAAQ,CAAEK,YAAhB,wBACI,KAAC,QAAD,EAAU,QAAQ,CAAEV,QAApB,CAA8B,YAAY,CAAEE,YAA5C,EADJ,cAEI,KAAC,IAAD,EAAM,EAAE,kBAAYN,MAAZ,CAAR,CAA8B,SAAS,CAAC,mBAAxC,kBAFJ,sBAGI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,kBAHJ,GAVJ,GADJ,CAkBH,CAnBC,IAmBI,CACF,MAAO,YAAP,CACH,CACJ,CACD,cAAeJ,CAAAA,UAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport CardForm from \"./CardForm\";\r\nimport {readDeck, createCard} from \"../../utils/api/index\"\r\n\r\n\r\n\r\nfunction CardCreate(){\r\n    const params = useParams();\r\n    const [deck, setDeck] = useState([]);\r\n    const deckId = params.deckId\r\n    const initialFormState = {\r\n        front: \"\",\r\n        back: \"\",\r\n        deckId\r\n      };\r\n      const [formData, setFormData] = useState({ ...initialFormState });\r\n      const handleChange = ({ target }) => {\r\n        const value = target.value;\r\n       setFormData({\r\n       ...formData,\r\n       [target.name]: value,\r\n     });\r\n    };\r\n    useEffect(() => {\r\n        async function loadData() {\r\n           try {\r\n              const dataFromAPI = await readDeck(deckId);\r\n              setDeck(dataFromAPI);           \r\n          } catch (error) {\r\n            if (error.name === \"AbortError\") {\r\n              // Ignore `AbortError`\r\n              console.log(\"Aborted\");\r\n          } else {\r\n              throw error;\r\n          }\r\n        }\r\n      }\r\n      loadData();\r\n    }, [deckId]);\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        console.log(\"Submitted:\", formData);\r\n        async function updateData() {\r\n           try {\r\n            await createCard(deckId, formData);\r\n            setFormData(initialFormState);\r\n          } catch (error) {\r\n            if (error.name === \"AbortError\") {\r\n              // Ignore `AbortError`\r\n              console.log(\"Aborted\");\r\n          } else {\r\n              throw error;\r\n          }\r\n        }\r\n      }\r\n      updateData();\r\n      };\r\n\r\n      if(deck){\r\n        return (\r\n            <div>\r\n                <nav aria-label=\"breadcrumb\">\r\n                    <ol className=\"breadcrumb\">\r\n                        <li className=\"breadcrumb-item\" key=\"0\"><Link to=\"/\">Home</Link></li>\r\n                        <li className=\"breadcrumb-item\" key=\"1\"><Link to={`/decks/${deckId}`}>{deck.name}</Link></li>\r\n                        <li className=\"breadcrumb-item active\" aria-current=\"page\" key=\"2\">Add Card</li>\r\n                    </ol>\r\n                </nav>\r\n                <br />\r\n                <h2>{deck.name}: Add Card</h2>\r\n                <form onSubmit={handleSubmit}>\r\n                    <CardForm formData={formData} handleChange={handleChange} />\r\n                    <Link to={`/decks/${deckId}`} className=\"btn btn-secondary\">Done</Link> &nbsp;\r\n                    <button type=\"submit\" className=\"btn btn-primary\">Save</button>\r\n                </form>\r\n            </div>\r\n        );\r\n    }else {\r\n        return \"Loading...\"\r\n    }\r\n}\r\nexport default CardCreate;"]},"metadata":{},"sourceType":"module"}